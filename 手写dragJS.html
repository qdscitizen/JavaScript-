<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
		   *{
				 margin:0;
				 padding:0
			 }
			 body{
				 overflow:hidden
			 }
			#container{
				width:400px;
				height:400px;
				background:red;
				position:absolute;
				top:0;
				left:0
			}
			#title{
				width:100%;
				height:50px;
				background: grey;
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<div id="container">
			<div id="title">		
			</div>
			<div id="body">		
			</div>
		</div>
	</body>

	<script type="text/javascript">

	
		let title = document.querySelector("#title")
		let container = document.querySelector("#container")
		
		function move(node,container){
			let body =  document.documentElement || document.body 
			node.onmousedown = function(e){
				let innerLeft = e.clientX - container.offsetLeft
				let innerTop = e.clientY - container.offsetTop
				document.onmousemove= function(e){
					container.style.left= e.clientX - innerLeft + "px"
					container.style.top=  e.clientY - innerTop + "px"
					if(container.offsetLeft<=0){
						container.style.left = 0 + "px"
					}
					if(container.offsetLeft>=(body.clientWidth-container.offsetWidth)){
						container.style.left = body.clientWidth-container.offsetWidth + "px"
					}
					if(container.offsetTop<=0){
						container.style.top = 0 + "px"
					}
					if(container.offsetTop>=(body.clientHeight-container.offsetHeight)){				
						container.style.top = body.clientHeight-container.offsetHeight + "px"
					}					
				}
				document.onmouseup = function(e){
					document.onmousemove = null
				}
			}
		}
		move(title,container)
	</script>
</html>
